.status-bar-safe-area {
    display: none;
}

@supports (-webkit-touch-callout: none) {
    .status-bar-safe-area {
        display: flex;
        position: sticky;
        top: 0;
        height: env(safe-area-inset-top);
        background-color: #f7f7f7;
        width: 100%;
        z-index: 1;
    }

    .flex-column, .navbar-brand {
        padding-left: env(safe-area-inset-left);
    }
}

#preloading-logo {
    position: fixed;
    inset: 0;
    display: grid;
    place-items: center;
    z-index: 9999;
}

    #preloading-logo svg {
        width: clamp(96px, 20vmin, 192px); /* doubled */
        height: auto; /* keep aspect ratio */
        display: block;
    }

/* MainLayout Mobile */
/* keep page content from being covered by the bottom bar */
.mainlayout-with-bottom-bar-padding {
    padding-bottom: calc(56px + env(safe-area-inset-bottom, 0px));
}

@media (min-width: 600px) {
    .mainlayout-with-bottom-bar-padding {
        padding-bottom: calc(64px + env(safe-area-inset-bottom, 0px));
    }
}

/* bottom bar */
.mainlayout-bottom-appbar {
    position: fixed;
    left: 0;
    right: 0;
    bottom: env(safe-area-inset-bottom, 0px);
    transform: translateY(0);
    opacity: 1;
    transition: transform .28s ease, opacity .28s ease;
}

    .mainlayout-bottom-appbar.hide {
        transform: translateY(calc(100% + env(safe-area-inset-bottom, 0px)));
        opacity: 0; /* fade out */
    }

.mainlayout-fab-position {
    position: fixed !important;
    left: 50%;
    transform: translateX(-50%);
    z-index: 1301;
    width: 56px;
    height: 56px;
    min-width: 56px;
}

/* iOS WebKit Safari/WebView hack */
@supports (-webkit-touch-callout: none) {
    .mainlayout-fab-position {
        bottom: 20px !important;
    }
}

/* Android default */
.mainlayout-fab-position {
    bottom: calc(env(safe-area-inset-bottom, 0px) + 20px);
}

/* sync slide+fade with the bar height (JS still updates --bottom-bar-h) */
:root {
    --bottom-bar-h: 56px;
}

/* iOS only (Safari/WKWebView) */
@supports (-webkit-touch-callout: none) {
    #main-content-container .mud-container {
        /* use svh on iOS for stable viewport; vh also works if you prefer */
        min-height: calc(100svh - 160px - env(safe-area-inset-bottom, 0px));
    }
}

.mainlayout-fab-sync {
    --fab-offset: 0px;
    transform: translateX(-50%) translateY(var(--fab-offset));
    opacity: 1;
    transition: transform .28s ease, opacity .28s ease;
    will-change: transform, opacity;
}

    .mainlayout-fab-sync.hide {
        --fab-offset: calc(var(--bottom-bar-h) + 8px);
        opacity: 0; /* fade out */
        pointer-events: none;
    }

/* optional: reduced motion */
@media (prefers-reduced-motion: reduce) {
    .mainlayout-bottom-appbar,
    .mainlayout-fab-sync {
        transition: none;
    }
}

/* reserve center slot for the FAB */
.mainlayout-fab-dock {
    flex: 0 0 56px; /* don't grow, don't shrink, basis = 56px */
    width: 56px; /* redundancy for older WebKit */
    min-width: 56px; /* belt + suspenders for iOS */
    pointer-events: none;
}

/* if you want to be extra-safe on iOS WebKit */
@supports (-webkit-touch-callout: none) {
    .mainlayout-fab-dock {
        flex: 0 0 56px !important;
    }
}


.mainlayout-bottom-appbar .mud-nav-link.active .mud-typography-caption {
    font-weight: 700;
}

.mud-bottom-nav-item {
    flex: 1 1 0; /* share width evenly across items */
    min-height: 56px;
    padding: 0;
    margin-left: 8px;
    margin-right: 8px;
}

    .mud-bottom-nav-item .mud-nav-link-text {
        margin-left: -1px;
    }

/* iOS only (Safari / WKWebView) */
@supports (-webkit-touch-callout: none) {
    /* 1) Give the drawer a real viewport height and flex column */
    .mud-drawer-content {
        height: calc(100svh - env(safe-area-inset-bottom, 0px));
        display: flex;
        flex-direction: column;
        overflow: hidden; /* prevent double scrollbars */
    }
        /* 2) Allow the immediate child to shrink inside the flex column */
        .mud-drawer-content > * {
            min-height: 0; /* critical for nested scrolling on iOS */
        }
    /* 3) Make your Paper the scroll container */
    .mud-drawer .scroll-hidden {
        flex: 1 1 auto; /* fill available drawer height */
        min-height: 0;
        overflow-y: auto !important;
        -webkit-overflow-scrolling: touch; /* momentum scrolling */
    }
}
